<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
   <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
   <title>Plugin last.fm on cuba.js</title>
   <link rel="stylesheet" href="http://yui.yahooapis.com/2.7.0/build/reset-fonts-grids/reset-fonts-grids.css" type="text/css"/>
   <link rel="stylesheet" href="http://yui.yahooapis.com/2.7.0/build/base/base.css" type="text/css"/>
   <link rel="stylesheet" href="css/lastfm.css" type="text/css"/>
   <link rel="stylesheet" href="css/last.fm.css" type="text/css"/>
   <script type="text/javascript" src="lib/cuba.js"></script>
   <script type="text/javascript" src="lastfm.js"></script>
   <script type="text/javascript">

cuba.ready(function(){

         new LastFM({username: 'abvn', where: 'container',

                           onRequest: function(){

                                $('#container').innerHTML = "<span class='loading'>Loading...</span>";
                           },

                           onSuccess: function( data) {

                                var out = $('#'+ data[1]);

                                var items = data[0].query.results.item, 
                                     n = items.length, 
                                     output = "";

                                  ul = document.createElement('ul'); 
                                  ul.id = data[2];
                                  ul.className = "lastfm"; 

                                for(var i=0;i<n;i++) { output += cuba.template(data[3],items[i]);}
                                ul.innerHTML = output
                                out.innerHTML = ""
                                out.appendChild( ul )
                           }
         }).get();


         new LastFM({username: 'aleikum', where: 'container2',

                           onRequest: function(){

                                $('#container2').innerHTML = "<span class='loading'>Loading...</span>";
                           },

                           onSuccess: function( data) {

                                var out = $('#'+ data[1]);

                                var items = data[0].query.results.item, 
                                     n = items.length, 
                                     output = "";

                                  ul = document.createElement('ul'); 
                                  ul.id = data[2];
                                  ul.className = "lastfm"; 

                                for(var i=0;i<n;i++) { output += cuba.template(data[3],items[i]);}
                                ul.innerHTML = output
                                out.innerHTML = ""
                                out.appendChild( ul )
                           }
         }).get();

});

   </script>
</head>
<body>

<body class="yui-skin-sam">
<div id="doc" class="yui-t7">
   <div id="hd" role="banner"><h1>Last.fm based on cuba.js</h1></div>
   <div id="bd" role="main">
	<div class="yui-g">
       <div class="yui-u first">
            <div id="container"></div> 
       </div>
       <div class="yui-u">
            <div id="container2"></div> 
       </div>
<h4>How to use:</h4>
<pre><code>

cuba.ready(function(){

         new LastFM({username: 'abvn', where: 'container',

                           onRequest: function(){

                                $('#container').innerHTML = "<span class='loading'>Loading...</span>";
                           },

                           onSuccess: function( data) {

                                var out = $('#'+ data[1]);

                                var items = data[0].query.results.item, 
                                     n = items.length, 
                                     output = "";

                                  ul = document.createElement('ul'); 
                                  ul.id = data[2];
                                  ul.className = "lastfm"; 

                                for(var i = 0; i < n; i++) { output += cuba.template(data[3],items[i]);}
                                ul.innerHTML = output
                                out.innerHTML = ""
                                out.appendChild( ul )
                           }
         }).get();


         new LastFM({username: 'aleikum', where: 'container2',

                           onRequest: function(){

                                $('#container2').innerHTML = "<span class='loading'>Loading...</span>";
                           },

                           onSuccess: function( data) {

                                var out = $('#'+ data[1]);

                                var items = data[0].query.results.item, 
                                     n = items.length, 
                                     output = "";

                                  ul = document.createElement('ul'); 
                                  ul.id = data[2];
                                  ul.className = "lastfm"; 

                                for(var i=0; i < n; i++) { output += cuba.template(data[3],items[i]);}
                                ul.innerHTML = output
                                out.innerHTML = ""
                                out.appendChild( ul )
                           }
         }).get();

});

</code></pre>
</div>
</div>
<div id="ft"><p>Created by @<a href="http://twitter.com/thinkphp">thinkphp</a> using <a href="http://github.com/thinkphp/cuba.js">cuba.js</a></p></div>
</div>
</body>
</html>